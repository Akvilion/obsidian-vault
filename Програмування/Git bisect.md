
### git bisect: Детектив по поиску бага

- Проблема: В проекте обнаружился баг. Вы уверены, что неделю назад его не было. За это время было сделано 50 коммитов. Ручной поиск коммита, где баг появился – ад. Нужен автоматизированный поиск виноватого.
    
- Решение: [git bisect](https://git-scm.com/docs/git-bisect) использует алгоритм бинарного поиска. Вы указываете:
    
    «Хороший» коммит (где бага точно нет, `git bisect good` ).
    
    «Плохой» коммит (где баг точно есть, обычно текущий HEAD, `git bisect bad`).  
    Git автоматически переключит вас на коммит посередине между "хорошим" и "плохим". Вы проверяете наличие бага и говорите `git bisect good` (бага нет) или `git bisect bad`(баг есть). Git сужает диапазон и переключает вас снова. Повторяете, пока Git не укажет точный коммит, где появился баг.
    

```
# Начинаем сессиюgit bisect start          #Текущее состояние (HEAD) - плохое (баг есть)git bisect bad HEAD       # Тег v1.2 (или хеш коммита) - хорошее (бага нет)git bisect good v1.2# Git автоматически переключит на коммит посередине.# Запускаем тесты/проверяем вручную наличие бага...# Если баг ЕСТЬ в этом состоянии:git bisect bad# Если бага НЕТ в этом состоянии:git bisect good# Если не удаётся проверить (например, код не компилируется)git bisect skip   # Git переключит на новый коммит (середину нового диапазона). Повторяем проверку...# В итоге Git сообщит: "abc123 is the first bad commit"git bisect reset  # Завершаем сессию, возвращаемся в исходную ветку
```

Польза: Резко сокращает время поиска коммита, в котором была внесена ошибка, с O(n) до O(log n). Незаменим для анализа регрессий.

Фактически, git bisect можно использовать для поиска коммита, который изменил любое свойство вашего проекта; например, коммит, который исправил ошибку, или коммит, который привел к улучшению производительности бенчмарка.